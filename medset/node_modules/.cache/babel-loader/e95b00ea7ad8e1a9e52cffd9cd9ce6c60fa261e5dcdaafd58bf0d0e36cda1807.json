{"ast":null,"code":"import _regeneratorRuntime from\"D:/Guts/Documents/GitHub/proyecto-medset/medset/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Guts/Documents/GitHub/proyecto-medset/medset/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Guts/Documents/GitHub/proyecto-medset/medset/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import Swal from\"sweetalert2\";import{useLocation}from\"wouter\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Formulario_Nuevacita(_ref){var params=_ref.params;var keyword=params.keyword;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),date=_useState2[0],setDate=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),time=_useState4[0],setTime=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),rut=_useState6[0],setRut=_useState6[1];// eslint-disable-next-line\nvar _useLocation=useLocation(),_useLocation2=_slicedToArray(_useLocation,2),location=_useLocation2[0],setLocation=_useLocation2[1];var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var payload,url;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.stopPropagation();e.nativeEvent.stopImmediatePropagation();payload={date:date,time:time,rut:rut,medic_id:parseInt(keyword)};url=\"http://15.228.191.117:8080/appointments?date=\".concat(payload.date,\"&time=\").concat(payload.time,\"&rut=\").concat(payload.rut,\"&medic_id=\").concat(payload.medic_id);fetch(url,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},mode:\"cors\",body:JSON.stringify(payload)}).then(function(res){return res.json();}).then(function(res){Swal.fire({text:\"Cita agendada correctamente\",icon:\"success\",showConfirmButton:true});return res;}).then(setLocation(\"/lista_medicos_citas\"));case 5:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"card border-secondary mb-3 mt-3 shadow-lg\",style:{maxWidth:\"70rem\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body text-white\",children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontWeight:700},children:\"Agendar Cita\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary float-start\",onClick:function onClick(){return setLocation(\"/Lista_medicos_citas\");},children:[\"Ir a m\\xE9dicos\",/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-arrow-left-circle-fill\"})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{id:\"meds\",onSubmit:handleSubmit,className:\"needs-validation\",noValidate:true,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"date\",children:\"Fecha\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"start\",name:\"trip-start\",min:\"2018-01-01\",max:\"2025-12-31\",onChange:function onChange(e){return setDate(e.target.value.toString());}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"time\",children:\"Hora\"}),/*#__PURE__*/_jsx(\"input\",{type:\"time\",id:\"appt\",name:\"appt\",min:\"09:00\",max:\"18:00\",required:true,onChange:function onChange(e){return setTime(e.target.value.toString());}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"rut\",children:\"Rut\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,name:\"rut\",id:\"rut\",onChange:function onChange(e){return setRut(e.target.value);}})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Enviar\"})]})})]})});}","map":{"version":3,"names":["React","useState","Swal","useLocation","jsx","_jsx","jsxs","_jsxs","Formulario_Nuevacita","_ref","params","keyword","_useState","_useState2","_slicedToArray","date","setDate","_useState3","_useState4","time","setTime","_useState5","_useState6","rut","setRut","_useLocation","_useLocation2","location","setLocation","handleSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","payload","url","wrap","_callee$","_context","prev","next","stopPropagation","nativeEvent","stopImmediatePropagation","medic_id","parseInt","concat","fetch","method","headers","mode","body","JSON","stringify","then","res","json","fire","text","icon","showConfirmButton","stop","_x","apply","arguments","className","style","maxWidth","children","fontWeight","onClick","id","onSubmit","noValidate","htmlFor","type","name","min","max","onChange","target","value","toString","required"],"sources":["D:/Guts/Documents/GitHub/proyecto-medset/medset/src/Components/Formulario_Nuevacita.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport Swal from \"sweetalert2\";\r\nimport { useLocation } from \"wouter\";\r\n\r\n\r\nexport default function Formulario_Nuevacita({params}) {\r\n  const { keyword } = params\r\n  const [date, setDate] = useState(\"\");\r\n  const [time, setTime] = useState(\"\");\r\n  const [rut, setRut] = useState(\"\");\r\n  // eslint-disable-next-line\r\n  const [location, setLocation] = useLocation();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.stopPropagation();\r\n    e.nativeEvent.stopImmediatePropagation();\r\n    var payload = {\r\n      date: date,\r\n      time: time,\r\n      rut: rut,\r\n      medic_id: parseInt(keyword),\r\n    };\r\n    const url = `http://15.228.191.117:8080/appointments?date=${payload.date}&time=${payload.time}&rut=${payload.rut}&medic_id=${payload.medic_id}`;\r\n    fetch(url, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      mode: \"cors\",\r\n      body: JSON.stringify(payload),\r\n    })\r\n      .then((res) => res.json())\r\n      .then(function (res) {\r\n        Swal.fire({\r\n          text: \"Cita agendada correctamente\",\r\n          icon: \"success\",\r\n          showConfirmButton: true,\r\n        });\r\n        return res;\r\n      })\r\n      .then(setLocation(\"/lista_medicos_citas\"));\r\n  };\r\n\r\n\r\n  return (\r\n    <div\r\n      className=\"card border-secondary mb-3 mt-3 shadow-lg\"\r\n      style={{ maxWidth: \"70rem\" }}\r\n    >\r\n      <div className=\"card-body text-white\">\r\n        <h1 style={{ fontWeight: 700 }}>Agendar Cita</h1>\r\n        <div>\r\n          <button\r\n            className=\"btn btn-primary float-start\"\r\n            onClick={() => setLocation(\"/Lista_medicos_citas\")}\r\n          >\r\n            Ir a m√©dicos\r\n            <i className=\"bi bi-arrow-left-circle-fill\"></i>\r\n          </button>\r\n        </div>\r\n        <div>\r\n          <form\r\n            id=\"meds\"\r\n            onSubmit={handleSubmit}\r\n            className=\"needs-validation\"\r\n            noValidate\r\n          >   \r\n              <div className=\"mb-3\">\r\n\r\n              <label htmlFor=\"date\">Fecha</label>\r\n              <input type=\"date\" id=\"start\" name=\"trip-start\"\r\n              min=\"2018-01-01\" max=\"2025-12-31\"\r\n              onChange={(e) => setDate(e.target.value.toString())}\r\n              >\r\n              </input>\r\n            </div>\r\n\r\n            <div className=\"mb-3\">\r\n              <label htmlFor=\"time\">Hora</label>\r\n              <input\r\n                type=\"time\" id=\"appt\" name=\"appt\"\r\n                min=\"09:00\" max=\"18:00\" required\r\n                onChange={(e) => setTime(e.target.value.toString())}\r\n              ></input>\r\n            </div>\r\n\r\n\r\n\r\n            <div className=\"mb-3\">\r\n              <label htmlFor=\"rut\">Rut</label>\r\n              <input\r\n                type=\"text\"\r\n                required\r\n                name=\"rut\"\r\n                id=\"rut\"\r\n                onChange={(e) => setRut(e.target.value)}\r\n              ></input>\r\n            </div>\r\n\r\n            \r\n            <button type=\"submit\" className=\"btn btn-primary\">\r\n              Enviar\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}