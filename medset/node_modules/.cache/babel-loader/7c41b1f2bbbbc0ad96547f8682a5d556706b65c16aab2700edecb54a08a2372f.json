{"ast":null,"code":"import _slicedToArray from\"C:/Users/Guts/.jenkins/workspace/Proyecto 2/medset/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{Link}from\"wouter\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Lista_medicos(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var fetchData=function fetchData(){fetch(\"http://15.228.191.117:8080/medics\").then(function(response){return response.json();}).then(function(actualData){console.log(actualData);setData(actualData.medics);console.log(data);}).catch(function(err){console.log(err.message);});};useEffect(function(){fetchData();// eslint-disable-next-line\n},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"card mx-auto\",style:{maxWidth:\"100rem\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header text-light h5 ps-4 py-3\",children:[/*#__PURE__*/_jsx(Link,{to:'/lista_medicos_citas',children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary izquierda\",children:\" usr\"})}),\"SELECCIONA UN M\\xC9DICO\",/*#__PURE__*/_jsx(Link,{to:'/formulario_medicos',children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary derecha\",id:\"btn_crearmedicos\",children:\"Crear M\\xE9dico\"})})]}),!(data.length>0)?/*#__PURE__*/_jsx(\"div\",{className:\"card-body table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"text-secondary\",children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Nombre\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Apellido\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Comuna\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Especializaci\\xF3n\"}),/*#__PURE__*/_jsx(\"th\",{className:\"pa-0 ma-0\",style:{width:\"2px\"}}),/*#__PURE__*/_jsx(\"th\",{className:\"pa-0 ma-0\",style:{width:\"1px\"}})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"th\",{colSpan:\"6\",className:\"text-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner-grow text-primary px-9\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})})})})})]})}):/*#__PURE__*/_jsx(\"div\",{className:\"card-body table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"text-secondary\",children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Nombre\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Apellido\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Comuna\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Especializaci\\xF3n\"}),/*#__PURE__*/_jsx(\"th\",{className:\"pa-0 ma-0\",style:{width:\"2px\"}}),/*#__PURE__*/_jsx(\"th\",{className:\"pa-0 ma-0\",style:{width:\"1px\"}})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:data.map(function(todo){var deleteURL=\"http://15.228.191.117:8080/medics?medic_id=\".concat(todo.medic_id);var panaURL=\"/formulario_medicos/\".concat(todo.medic_id);return/*#__PURE__*/_jsxs(\"tr\",{className:\"text-white\",children:[/*#__PURE__*/_jsx(\"td\",{children:todo.first_name}),/*#__PURE__*/_jsx(\"td\",{children:todo.last_name}),/*#__PURE__*/_jsx(\"td\",{children:todo.geographic_location}),/*#__PURE__*/_jsx(\"td\",{children:todo.specialization}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:panaURL,children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary me-md-2\",id:\"btn_editar\",type:\"button\",children:\"edit\"})})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger me-md-2\",type:\"button\",onClick:function onClick(){try{fetch(deleteURL,{method:\"DELETE\",headers:{\"Content-Type\":\"application/json\"}}).then(function(res){window.location.reload();});}catch(error){console.error(error);alert(\"Unable to delete item.\");}},children:\"delete\"})})]});})})]})})]});}","map":{"version":3,"names":["React","useEffect","useState","Link","jsx","_jsx","jsxs","_jsxs","Lista_medicos","_useState","_useState2","_slicedToArray","data","setData","fetchData","fetch","then","response","json","actualData","console","log","medics","catch","err","message","className","style","maxWidth","children","to","id","length","scope","width","colSpan","role","map","todo","deleteURL","concat","medic_id","panaURL","first_name","last_name","geographic_location","specialization","type","onClick","method","headers","res","window","location","reload","error","alert"],"sources":["C:/Users/Guts/.jenkins/workspace/Proyecto 2/medset/src/Components/Lista_medicos.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"wouter\";\r\n\r\nexport default function Lista_medicos() {\r\n  const [data, setData] = useState([]);\r\n\r\n  const fetchData = () => {\r\n    fetch(`http://15.228.191.117:8080/medics`)\r\n      .then((response) => response.json())\r\n      .then((actualData) => {\r\n        console.log(actualData);\r\n        setData(actualData.medics);\r\n        console.log(data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err.message);\r\n      });\r\n  };\r\n\r\n\r\n  useEffect(() => {   \r\n    fetchData();\r\n  // eslint-disable-next-line\r\n  }, []); \r\n  return (\r\n    <div className=\"card mx-auto\" style={{ maxWidth: \"100rem\" }}>\r\n      <div className=\"card-header text-light h5 ps-4 py-3\">\r\n      <Link to={'/lista_medicos_citas'}><button className=\"btn btn-primary izquierda\" > usr</button></Link>\r\n        SELECCIONA UN MÉDICO \r\n        <Link to={'/formulario_medicos'}><button className=\"btn btn-primary derecha\" id=\"btn_crearmedicos\">Crear Médico</button></Link>\r\n        \r\n      </div>\r\n      {!(data.length > 0) ? (\r\n        <div className=\"card-body table-responsive\">\r\n          <table className=\"table\">\r\n            <thead>\r\n              <tr className=\"text-secondary\">\r\n                <th scope=\"col\">Nombre</th>\r\n                <th scope=\"col\">Apellido</th>\r\n                <th scope=\"col\">Comuna</th>\r\n                <th scope=\"col\">Especialización</th>\r\n                <th className=\"pa-0 ma-0\" style={{ width: \"2px\" }}></th>\r\n                <th className=\"pa-0 ma-0\" style={{ width: \"1px\" }}></th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr>\r\n                <th colSpan=\"6\" className=\"text-center\">\r\n                  <div className=\"spinner-grow text-primary px-9\" role=\"status\">\r\n                    <span className=\"visually-hidden\">Loading...</span>\r\n                  </div>\r\n                </th>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      ) : (\r\n        <div className=\"card-body table-responsive\">\r\n          <table className=\"table\">\r\n            <thead>\r\n              <tr className=\"text-secondary\">\r\n                <th scope=\"col\">Nombre</th>\r\n                <th scope=\"col\">Apellido</th>\r\n                <th scope=\"col\">Comuna</th>\r\n                <th scope=\"col\">Especialización</th>\r\n                <th className=\"pa-0 ma-0\" style={{ width: \"2px\" }}></th>\r\n                <th className=\"pa-0 ma-0\" style={{ width: \"1px\" }}></th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {data.map((todo) => {\r\n                const deleteURL = `http://15.228.191.117:8080/medics?medic_id=${todo.medic_id}`\r\n                const panaURL = `/formulario_medicos/${todo.medic_id}`\r\n\r\n                return (\r\n                  <tr className=\"text-white\">\r\n                    <td>{todo.first_name}</td>\r\n                    <td>{todo.last_name}</td>\r\n                    <td>{todo.geographic_location}</td>\r\n                    <td>{todo.specialization}</td>\r\n                    <td>\r\n                      <Link to={panaURL}>                      \r\n                      <button className=\"btn btn-primary me-md-2\" id=\"btn_editar\" type=\"button\" >\r\n                        edit\r\n                      </button>\r\n                      </Link>\r\n\r\n                    </td>\r\n                    <td>\r\n                      <button\r\n                        className=\"btn btn-danger me-md-2\"\r\n                        type=\"button\"\r\n                        onClick={() => {\r\n                          try {\r\n                            fetch(deleteURL, {\r\n                              method: \"DELETE\",\r\n                              headers: {\r\n                                \"Content-Type\": \"application/json\",\r\n                              },\r\n                            }\r\n                            ).then(function (res) {\r\n                              window.location.reload();});\r\n                          } catch (error) {\r\n                            console.error(error);\r\n                            alert(\"Unable to delete item.\");\r\n                          }\r\n                        }\r\n                      }\r\n                      >\r\n                        delete\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}