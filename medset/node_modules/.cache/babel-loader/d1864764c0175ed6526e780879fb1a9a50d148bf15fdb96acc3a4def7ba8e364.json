{"ast":null,"code":"import _regeneratorRuntime from\"D:/Guts/Documents/GitHub/proyecto-medset/medset/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Guts/Documents/GitHub/proyecto-medset/medset/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Guts/Documents/GitHub/proyecto-medset/medset/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import getMedicoEspecifico from'../Services/getMedicoEspecifico';import Swal from'sweetalert2';import{useLocation}from\"wouter\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Editar_medico(_ref){var params=_ref.params;var keyword=params.keyword;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),geographic_location=_useState2[0],setGeographic_location=_useState2[1];var _useLocation=useLocation(),_useLocation2=_slicedToArray(_useLocation,2),location=_useLocation2[0],setLocation=_useLocation2[1];useEffect(function(){getMedicoEspecifico({keyword:keyword}).then(function(ficha){setGeographic_location(ficha[0].geographic_location);});},[keyword]);var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var payload,url,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();payload={medic_id:parseInt(keyword),geographic_location:geographic_location};url=\"http://15.228.191.117:8080/medics?medic_id=\".concat(payload.medic_id,\"&geographic_location=\").concat(payload.geographic_location);_context.prev=3;_context.next=6;return fetch(url,{method:\"PUT\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(payload)});case 6:response=_context.sent;if(response.ok){Swal.fire({text:\"Medico actualizado correctamente\",icon:\"success\",showConfirmButton:true});setLocation(\"/Lista_medicos\");}else{Swal.fire({text:\"Error al actualizar el medico\",icon:\"error\",showConfirmButton:true});}_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](3);console.error(_context.t0);Swal.fire({text:\"Error al actualizar el medico\",icon:\"error\",showConfirmButton:true});case 14:case\"end\":return _context.stop();}},_callee,null,[[3,10]]);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"card mx-auto shadow-lg\",style:{maxWidth:\"70rem\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header text-light h5 ps-4 py-3\",children:\"ACTUALIZA DATOS\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body text-white\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"needs-validation\",noValidate:true,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"geographic_location\",children:\"Comuna\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,name:\"geographic_location\",id:\"geographic_location\",onChange:function onChange(e){return setGeographic_location(e.target.value);}})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:function onClick(){return setLocation(\"/Lista_medicos\");},children:\"Volver\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary ms-2\",id:\"btn_enviar_2\",children:\"Enviar\"})]})})]});}","map":{"version":3,"names":["React","useEffect","useState","getMedicoEspecifico","Swal","useLocation","jsx","_jsx","jsxs","_jsxs","Editar_medico","_ref","params","keyword","_useState","_useState2","_slicedToArray","geographic_location","setGeographic_location","_useLocation","_useLocation2","location","setLocation","then","ficha","handleSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","payload","url","response","wrap","_callee$","_context","prev","next","preventDefault","medic_id","parseInt","concat","fetch","method","headers","body","JSON","stringify","sent","ok","fire","text","icon","showConfirmButton","t0","console","error","stop","_x","apply","arguments","className","style","maxWidth","children","onSubmit","noValidate","htmlFor","type","required","name","id","onChange","target","value","onClick"],"sources":["D:/Guts/Documents/GitHub/proyecto-medset/medset/src/Components/Editar_Medico.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport getMedicoEspecifico from '../Services/getMedicoEspecifico';\r\nimport Swal from 'sweetalert2';\r\nimport { useLocation } from \"wouter\";\r\n\r\n\r\nexport default function Editar_medico ( {params} ) {\r\n    const { keyword } = params\r\n    const [geographic_location, setGeographic_location] = useState(\"\");\r\n    const [location, setLocation] = useLocation();\r\n\r\n    useEffect(function () {\r\n        getMedicoEspecifico( {keyword} ).then((ficha) => {\r\n            setGeographic_location(ficha[0].geographic_location)\r\n        })\r\n      }, [keyword])\r\n\r\n\r\n\r\n  \r\n      const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        \r\n        var payload = {\r\n          medic_id: parseInt(keyword),\r\n          geographic_location: geographic_location,\r\n        };\r\n      \r\n        const url = `http://15.228.191.117:8080/medics?medic_id=${payload.medic_id}&geographic_location=${payload.geographic_location}`;\r\n      \r\n        try {\r\n          const response = await fetch(url, {\r\n            method: \"PUT\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify(payload),\r\n          });\r\n      \r\n          if (response.ok) {\r\n            Swal.fire({\r\n              text: \"Medico actualizado correctamente\",\r\n              icon: \"success\",\r\n              showConfirmButton: true,\r\n            });\r\n      \r\n            setLocation(\"/Lista_medicos\");\r\n          } else {\r\n            Swal.fire({\r\n              text: \"Error al actualizar el medico\",\r\n              icon: \"error\",\r\n              showConfirmButton: true,\r\n            });\r\n          }\r\n        } catch (error) {\r\n          console.error(error);\r\n          Swal.fire({\r\n            text: \"Error al actualizar el medico\",\r\n            icon: \"error\",\r\n            showConfirmButton: true,\r\n          });\r\n        }\r\n      };\r\n  return (\r\n<div className=\"card mx-auto shadow-lg\" style={{ maxWidth: \"70rem\" }}>\r\n        <div className=\"card-header text-light h5 ps-4 py-3\">ACTUALIZA DATOS</div>\r\n        <div className=\"card-body text-white\" >\r\n        <form onSubmit={handleSubmit} className=\"needs-validation\" noValidate>\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"geographic_location\">Comuna</label>\r\n            <input\r\n              type=\"text\"\r\n              required\r\n              name=\"geographic_location\"\r\n              id=\"geographic_location\"\r\n              onChange={(e) => setGeographic_location(e.target.value)}\r\n            ></input>\r\n          </div>\r\n          <button className=\"btn btn-primary\"onClick={() => setLocation(\"/Lista_medicos\")}>Volver</button>\r\n          <button type=\"submit\" className=\"btn btn-primary ms-2\" id=\"btn_enviar_2\">\r\n            Enviar\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}