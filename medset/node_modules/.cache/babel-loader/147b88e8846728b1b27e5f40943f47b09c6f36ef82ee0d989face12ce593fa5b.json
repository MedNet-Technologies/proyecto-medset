{"ast":null,"code":"import _slicedToArray from\"C:/Users/Guts/.jenkins/workspace/Proyecto 2/medset/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{Link}from\"wouter\";import Moment from\"moment\";import Button from\"react-bootstrap/Button\";import Swal from\"sweetalert2\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Lista_medicos(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var fetchData=function fetchData(){fetch(\"http://15.228.191.117:8080/medics\").then(function(response){return response.json();}).then(function(actualData){console.log(actualData);setData(actualData.medics);console.log(data);}).catch(function(err){console.log(err.message);});};useEffect(function(){fetchData();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"card mx-auto\",style:{maxWidth:\"100rem\"},children:[/*#__PURE__*/_jsxs(\"div\",{class:\"card-header text-light h5 ps-4 py-3\",children:[/*#__PURE__*/_jsx(Link,{to:'/lista_medicos_citas',children:/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-primary izquierda\",children:\" usr\"})}),\"SELECCIONA UN M\\xC9DICO\",/*#__PURE__*/_jsx(Link,{to:'/formulario_medicos',children:/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-primary derecha\",children:\"Crear M\\xE9dico\"})})]}),!(data.length>0)?/*#__PURE__*/_jsx(\"div\",{class:\"card-body table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{class:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{class:\"text-secondary\",children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Nombre\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Apellido\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Comuna\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Especializaci\\xF3n\"}),/*#__PURE__*/_jsx(\"th\",{class:\"pa-0 ma-0\",style:{width:\"2px\"}}),/*#__PURE__*/_jsx(\"th\",{class:\"pa-0 ma-0\",style:{width:\"1px\"}})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{class:\"text-white\",children:[/*#__PURE__*/_jsx(\"td\",{scope:\"col\",children:\"Tom\\xE1s Roberto\"}),/*#__PURE__*/_jsx(\"td\",{scope:\"col\",children:\"Gonz\\xE1lez L\\xF3pez\"}),/*#__PURE__*/_jsx(\"td\",{scope:\"col\",children:\"Vi\\xF1a del Mar\"}),/*#__PURE__*/_jsx(\"td\",{scope:\"col\",children:\"Dermat\\xF3logo\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-primary me-md-2\",type:\"button\",children:\"edit\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-danger me-md-2\",type:\"button\",children:\"delete\"})})]}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"th\",{colspan:\"6\",class:\"text-center\",children:/*#__PURE__*/_jsx(\"div\",{class:\"spinner-grow text-primary px-9\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{class:\"visually-hidden\",children:\"Loading...\"})})})})]})]})}):/*#__PURE__*/_jsx(\"div\",{class:\"card-body table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{class:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{class:\"text-secondary\",children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Nombre\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Apellido\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Comuna\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Especializaci\\xF3n\"}),/*#__PURE__*/_jsx(\"th\",{class:\"pa-0 ma-0\",style:{width:\"2px\"}}),/*#__PURE__*/_jsx(\"th\",{class:\"pa-0 ma-0\",style:{width:\"1px\"}})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:data.map(function(todo){var deleteURL=\"http://15.228.191.117:8080/medics?medic_id=\".concat(todo.medic_id);var panaURL=\"/formulario_medicos/\".concat(todo.medic_id);return/*#__PURE__*/_jsxs(\"tr\",{class:\"text-white\",children:[/*#__PURE__*/_jsx(\"td\",{children:todo.first_name}),/*#__PURE__*/_jsx(\"td\",{children:todo.last_name}),/*#__PURE__*/_jsx(\"td\",{children:todo.geographic_location}),/*#__PURE__*/_jsx(\"td\",{children:todo.specialization}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:panaURL,children:/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-primary me-md-2\",type:\"button\",children:\"edit\"})})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-danger me-md-2\",type:\"button\",onClick:function onClick(){try{fetch(deleteURL,{method:\"DELETE\",headers:{\"Content-Type\":\"application/json\"}}).then(function(res){window.location.reload();});}catch(error){console.error(error);alert(\"Unable to delete item.\");}},children:\"delete\"})})]});})})]})})]});}","map":{"version":3,"names":["React","useEffect","useState","Link","Moment","Button","Swal","jsx","_jsx","jsxs","_jsxs","Lista_medicos","_useState","_useState2","_slicedToArray","data","setData","fetchData","fetch","then","response","json","actualData","console","log","medics","catch","err","message","className","style","maxWidth","children","class","to","length","scope","width","type","colspan","role","map","todo","deleteURL","concat","medic_id","panaURL","first_name","last_name","geographic_location","specialization","onClick","method","headers","res","window","location","reload","error","alert"],"sources":["C:/Users/Guts/.jenkins/workspace/Proyecto 2/medset/src/Components/Lista_medicos.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"wouter\";\r\nimport Moment from \"moment\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nexport default function Lista_medicos() {\r\n  const [data, setData] = useState([]);\r\n\r\n  const fetchData = () => {\r\n    fetch(`http://15.228.191.117:8080/medics`)\r\n      .then((response) => response.json())\r\n      .then((actualData) => {\r\n        console.log(actualData);\r\n        setData(actualData.medics);\r\n        console.log(data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err.message);\r\n      });\r\n  };\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n  return (\r\n    <div className=\"card mx-auto\" style={{ maxWidth: \"100rem\" }}>\r\n      <div class=\"card-header text-light h5 ps-4 py-3\">\r\n      <Link to={'/lista_medicos_citas'}><button class=\"btn btn-primary izquierda\" > usr</button></Link>\r\n        SELECCIONA UN MÉDICO \r\n        <Link to={'/formulario_medicos'}><button class=\"btn btn-primary derecha\">Crear Médico</button></Link>\r\n        \r\n      </div>\r\n      {!(data.length > 0) ? (\r\n        <div class=\"card-body table-responsive\">\r\n          <table class=\"table\">\r\n            <thead>\r\n              <tr class=\"text-secondary\">\r\n                <th scope=\"col\">Nombre</th>\r\n                <th scope=\"col\">Apellido</th>\r\n                <th scope=\"col\">Comuna</th>\r\n                <th scope=\"col\">Especialización</th>\r\n                <th class=\"pa-0 ma-0\" style={{ width: \"2px\" }}></th>\r\n                <th class=\"pa-0 ma-0\" style={{ width: \"1px\" }}></th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr class=\"text-white\">\r\n                <td scope=\"col\">Tomás Roberto</td>\r\n                <td scope=\"col\">González López</td>\r\n                <td scope=\"col\">Viña del Mar</td>\r\n                <td scope=\"col\">Dermatólogo</td>\r\n                <td>\r\n                  <button class=\"btn btn-primary me-md-2\" type=\"button\">\r\n                    edit\r\n                  </button>\r\n                </td>\r\n                <td>\r\n                  <button class=\"btn btn-danger me-md-2\" type=\"button\">\r\n                    delete\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <th colspan=\"6\" class=\"text-center\">\r\n                  <div class=\"spinner-grow text-primary px-9\" role=\"status\">\r\n                    <span class=\"visually-hidden\">Loading...</span>\r\n                  </div>\r\n                </th>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      ) : (\r\n        <div class=\"card-body table-responsive\">\r\n          <table class=\"table\">\r\n            <thead>\r\n              <tr class=\"text-secondary\">\r\n                <th scope=\"col\">Nombre</th>\r\n                <th scope=\"col\">Apellido</th>\r\n                <th scope=\"col\">Comuna</th>\r\n                <th scope=\"col\">Especialización</th>\r\n                <th class=\"pa-0 ma-0\" style={{ width: \"2px\" }}></th>\r\n                <th class=\"pa-0 ma-0\" style={{ width: \"1px\" }}></th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {data.map((todo) => {\r\n                const deleteURL = `http://15.228.191.117:8080/medics?medic_id=${todo.medic_id}`\r\n                const panaURL = `/formulario_medicos/${todo.medic_id}`\r\n\r\n                return (\r\n                  <tr class=\"text-white\">\r\n                    <td>{todo.first_name}</td>\r\n                    <td>{todo.last_name}</td>\r\n                    <td>{todo.geographic_location}</td>\r\n                    <td>{todo.specialization}</td>\r\n                    <td>\r\n                      <Link to={panaURL}>                      \r\n                      <button class=\"btn btn-primary me-md-2\" type=\"button\" >\r\n                        edit\r\n                      </button>\r\n                      </Link>\r\n\r\n                    </td>\r\n                    <td>\r\n                      <button\r\n                        class=\"btn btn-danger me-md-2\"\r\n                        type=\"button\"\r\n                        onClick={() => {\r\n                          try {\r\n                            fetch(deleteURL, {\r\n                              method: \"DELETE\",\r\n                              headers: {\r\n                                \"Content-Type\": \"application/json\",\r\n                              },\r\n                            }\r\n                            ).then(function (res) {\r\n                              window.location.reload();});\r\n                          } catch (error) {\r\n                            console.error(error);\r\n                            alert(\"Unable to delete item.\");\r\n                          }\r\n                        }\r\n                      }\r\n                      >\r\n                        delete\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}